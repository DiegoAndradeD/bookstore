<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="/stylesheets/index.css">
  </head>
<body>
    
    <header>
      <%- include(navbar) %>
    </header>

    <main>
      <div class="firstContainer">
        <h1>
          <img src="/images/BookOpen.jpg" alt="..." class="banner">
        </h1>
        <h2 >
          <img src="/images/BannerImg.jpg" alt="imagem de abertura" class="imagem-inicial">
        </h2>
        
          <p class="texto-ini">which book do you want to look for ?</p>
          <p class="texto-ini2"> Explore our catalog and find your next read.   </p>
        
          <div class="caixa-procura">
          <input type="text" class="Caixa-Texto" placeholder="research your book">
          <a class="botao">
          <img class="lop-blue"  src="/images/loupe-blue.svg" alt="" width="25px" height="25px">
          <img class="lop-white" src="/public/images/loupe-white.svg" alt="" width="25px" height="25px">
          </a>
        
        </div>
      </div>

          <!-- <p class="destaques"> <strong> Trending Books </strong></p>
        
          <div class="conteiner">
        
            <div class="destaques1"> item 1</div>
        
            <div class="destaques2">  item 2</div>
        
            <div class="destaques3"> item 3 </div>
        
            <div class="destaques4"> item 4 </div>
        
            <div class="destaques5">  item 5 </div>
        
          </div> -->

          <div class="secondContainer">
            <p class=""> <strong> Trending Books </strong></p>
            <div id="highligth" class="highligth">
              <div class="highligthChild" id="item1">item1</div>
              <div class="highligthChild" id="item2">item2</div>
              <div class="highligthChild" id="item3">item3</div>
              <div class="highligthChild" id="item4">item4</div>
              <div class="highligthChild" id="item5">item5</div>
            </div>
            
          </div>

          <div class="TContainer">
            <p class=" catego"> <strong>  <img class="img-cate" src="/images/FOLDER_NOTCH_OPEN.svg" alt=" cat">Categories </strong></p>
            <div class="highligth1">
              <div class="highligthChild1"> <a href="#"> <button>action</button> </a></div>
              <div class="highligthChild1"> <a href="#"> <button>Classics</button> </a> </div>
              <div class="highligthChild1"> <a href="#"> <button>Fantasy</button> </a> </div>
            </div>
            <div class="highligth1">
            <div class="highligthChild2"> <a href="#"> <button>Horror</button> </a> </div>
              <div class="highligthChild2">  <a href="#"> <button> Adventure stories</button> </a> </div>
              <div class="highligthChild2">  <a href="#"> <button> Historical fiction</button>  </a> </div>
            </div>
          </div>
          
          
 
          <div class="fourthContainer">
            <p class=""> <strong>Romance</strong></p>
            <div class="highligth4">
              <div class="highligthChild4"> <a href="#"> action </a></div>
              <div class="highligthChild4"> <a href="#"> Classics </a> </div>
              <div class="highligthChild4"> <a href="#"> Fantasy </a> </div>
              <div class="highligthChild4"> <a href="#"> Fantasy </a> </div>
              <div class="highligthChild4"> <a href="#"> Fantasy </a> </div>

            </div>
            <div class="highligth1">
            <div class="highligthChildbuy">   <p>   Valor  </p>  <a href="#" class="ss"> <button class="button3"> s </button>    <a href="#"> <button class="button2"><img src="/images/SHOPPING_CART.svg" alt=""></button> </a> </div>
              <div class="highligthChildbuy"> <p>  Valor   </p>   <a href="#"> <button class="button3"> s </button>         <a href="#"> <button class="button2"> <img src="/images/SHOPPING_CART.svg" alt=""></button> </a> </div>
              <div class="highligthChildbuy"> <p>  Valor  </p>    <a href="#"> <button class="button3"> s </button>              <a href="#"> <button class="button2"> <img src="/images/SHOPPING_CART.svg" alt=""></button>  </a> </div>
              <div class="highligthChildbuy"> <p>  Valor  </p>    <a href="#"> <button class="button3"> s </button>                <a href="#"> <button class="button2"> <img src="/images/SHOPPING_CART.svg" alt=""></button>  </a> </div>
              <div class="highligthChildbuy"> <p>   Valor  </p>   <a href="#"> <button class="button3"> s </button>          <a href="#"> <button class="button2"> <img src="/images/SHOPPING_CART.svg" alt=""></button>  </a> </div>
            </div>
          </div>
       

        </main>
 
    <footer>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
          var xhr = new XMLHttpRequest();
          xhr.open('POST', '/index', true);
          xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
          xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
              var books = JSON.parse(xhr.responseText);

              var highligth = document.getElementById('highligth');
              var index = 0;
              books.forEach((book, index) => {
                if (index < 5) { // Adicionar apenas nas 5 primeiras divs highligthChild
                  var itemElement = document.getElementById(`item${index + 1}`);

                  var imgElement = document.createElement('img');
                  imgElement.src = `/images/bookCovers/${book.cover}`;
                  imgElement.classList.add('book-cover');

                  itemElement.innerHTML = ''; // Limpar qualquer conteÃºdo existente na div
                  itemElement.appendChild(imgElement);
                }
              });
            }
          };
          xhr.send();
        });
  </script>

</body>


</html>